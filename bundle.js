(()=>{"use strict";new class{constructor(t,e){this.model=t,this.view=e,this.view.bindAddProject(),this.view.bindCancelProject(),this.view.bindSaveProject(this.handleAddProject),this.model.bindProjectListChanged(this.onProjectListChanged),this.onProjectListChanged(this.model.projects)}onProjectListChanged=t=>{this.view.displayProjects(t)};handleAddProject=t=>{this.model.addProject(t)};handleDeleteProject=t=>{this.model.deleteProject(t)}}(new class{constructor(){this.projects=[],this.todos=[]}addProject(t){this.projects.length>0&&this.projects[this.projects.length-1].id,console.log(this.projects)}deleteProject(t){this.projects=this.projects.filter((e=>e.id!==t))}bindProjectListChanged(t){this.onProjectListChanged=t}},new class{constructor(){this.nav=this.createElement("div","nav-section"),this.header=this.createElement("div","header-section"),this.content=this.createElement("div","content-section"),this.appTitle=this.createElement("h1"),this.appTitle.textContent="TodoList",this.menuTitle=this.createElement("h2"),this.menuTitle.textContent="Menu",this.menuList=this.createElement("ul","menu-list"),this.menuAll=this.createElement("li"),this.menuAll.textContent="Menu",this.menuToday=this.createElement("li"),this.menuToday.textContent="Today",this.menuUpcoming=this.createElement("li"),this.menuUpcoming.textContent="Upcoming",this.menuImportant=this.createElement("li"),this.menuImportant.textContent="Important",this.projectTitle=this.createElement("h2"),this.projectTitle.textContent="Projects",this.projectList=this.createElement("ul","project-list"),this.createProjectForm=this.createElement("form","creat-project-form"),this.createProjectForm.style.display="none",this.inputProjectTitle=this.createElement("input"),this.inputProjectTitle.type="text",this.cancelBtn=this.createElement("button","cancel-project"),this.cancelBtn.textContent="Cancel",this.saveBtn=this.createElement("button","save-project"),this.saveBtn.textContent="Save",this.addProjectBtn=this.createElement("button"),this.addProjectBtn.textContent="Add Project",this.menuList.append(this.menuAll,this.menuToday,this.menuUpcoming,this.menuImportant),this.createProjectForm.append(this.inputProjectTitle,this.cancelBtn,this.saveBtn),this.nav.append(this.appTitle,this.menuTitle,this.menuList,this.projectTitle,this.projectList,this.createProjectForm,this.addProjectBtn),document.body.append(this.nav,this.header,this.content)}createElement(t,e){const i=document.createElement(t);return e&&i.classList.add(e),i}getElement(t){return document.querySelector(t)}get _projectTitle(){return this.inputProjectTitle.value}_resetInput(){return this.inputProjectTitle.value=""}displayProjects(t){for(;this.projectList.firstChild;)this.projectList.removeChild(this.projectList.firstChild);0!==t.length&&t.forEach((t=>{const e=this.createElement("li"),i=this.createElement("p");i.textContent=t.title;const s=this.createElement("button","delete-project");s.textContent="X",e.append(i,s),this.projectList.append(e)}))}addProject(){}_showForm(){this.createProjectForm.style.display="flex"}_hideForm(){this.createProjectForm.style.display="none"}bindAddProject(){this.addProjectBtn.addEventListener("click",(()=>{this._showForm()}))}bindCancelProject(){this.cancelBtn.addEventListener("click",(t=>{t.preventDefault(),this._hideForm()}))}bindSaveProject(t){this.saveBtn.addEventListener("click",(e=>{e.preventDefault(),this._projectTitle&&(t(this._projectTitle),this._resetInput(),this._hideForm())}))}})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVBN0Qsb0JBQ0VGLEtBQUt1QyxVQUFVMEIsaUJBQWlCLFNBQVVDLElBQ3hDQSxFQUFFQyxpQkFFRm5FLEtBQUtnRSxXQUFXLEdBRXBCLENBRUE3RCxnQkFBZ0JpRSxHQUNkcEUsS0FBS3dDLFFBQVF5QixpQkFBaUIsU0FBVUMsSUFDdENBLEVBQUVDLGlCQUVFbkUsS0FBS3FELGdCQUNQZSxFQUFRcEUsS0FBS3FELGVBQ2JyRCxLQUFLdUQsY0FDTHZELEtBQUtnRSxZQUNQLEdBRUosRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kZWwuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvdmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSAnLi9jb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE1vZGVsIH0gZnJvbSAnLi9tb2RlbC5qcyc7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3LmpzJztcblxuY29uc3QgYXBwID0gbmV3IENvbnRyb2xsZXIobmV3IE1vZGVsKCksIG5ldyBWaWV3KCkpO1xuXG5cblxuXG5cblxuIiwiZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldykge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgdGhpcy52aWV3LmJpbmRBZGRQcm9qZWN0KCk7XG4gICAgdGhpcy52aWV3LmJpbmRDYW5jZWxQcm9qZWN0KCk7XG4gICAgdGhpcy52aWV3LmJpbmRTYXZlUHJvamVjdCh0aGlzLmhhbmRsZUFkZFByb2plY3QpO1xuXG4gICAgdGhpcy5tb2RlbC5iaW5kUHJvamVjdExpc3RDaGFuZ2VkKHRoaXMub25Qcm9qZWN0TGlzdENoYW5nZWQpO1xuICAgIHRoaXMub25Qcm9qZWN0TGlzdENoYW5nZWQodGhpcy5tb2RlbC5wcm9qZWN0cyk7XG4gIH1cblxuICBvblByb2plY3RMaXN0Q2hhbmdlZCA9IChwcm9qZWN0cykgPT4ge1xuICAgIHRoaXMudmlldy5kaXNwbGF5UHJvamVjdHMocHJvamVjdHMpO1xuICB9XG5cbiAgaGFuZGxlQWRkUHJvamVjdCA9IChwcm9qZWN0VGl0bGUpID0+IHtcbiAgICB0aGlzLm1vZGVsLmFkZFByb2plY3QocHJvamVjdFRpdGxlKTtcbiAgfVxuXG4gIGhhbmRsZURlbGV0ZVByb2plY3QgPSAoaWQpID0+IHtcbiAgICB0aGlzLm1vZGVsLmRlbGV0ZVByb2plY3QoaWQpO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIE1vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wcm9qZWN0cyA9IFtdXG4gICAgdGhpcy50b2RvcyA9IFtdO1xuICB9XG5cbiAgYWRkUHJvamVjdChwcm9qZWN0VGl0bGUpIHtcbiAgICBjb25zdCBwcm9qZWN0ID0ge1xuICAgICAgaWQ6IHRoaXMucHJvamVjdHMubGVuZ3RoID4gMCA/IHRoaXMucHJvamVjdHNbdGhpcy5wcm9qZWN0cy5sZW5ndGggLSAxXS5pZCArIDEgOiAxLFxuICAgICAgdGl0bGU6IHByb2plY3RUaXRsZSxcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb2plY3RzKTtcbiAgfVxuXG4gIGRlbGV0ZVByb2plY3QoaWQpIHtcbiAgICB0aGlzLnByb2plY3RzID0gdGhpcy5wcm9qZWN0cy5maWx0ZXIoKHByb2plY3QpID0+IHByb2plY3QuaWQgIT09IGlkKTtcbiAgfVxuXG4gIGJpbmRQcm9qZWN0TGlzdENoYW5nZWQoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uUHJvamVjdExpc3RDaGFuZ2VkID0gY2FsbGJhY2s7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgVmlldyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubmF2ID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnLCAnbmF2LXNlY3Rpb24nKTtcbiAgICB0aGlzLmhlYWRlciA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgJ2hlYWRlci1zZWN0aW9uJyk7XG4gICAgdGhpcy5jb250ZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnLCAnY29udGVudC1zZWN0aW9uJyk7XG5cbiAgICB0aGlzLmFwcFRpdGxlID0gdGhpcy5jcmVhdGVFbGVtZW50KCdoMScpO1xuICAgIHRoaXMuYXBwVGl0bGUudGV4dENvbnRlbnQgPSAnVG9kb0xpc3QnO1xuXG4gICAgdGhpcy5tZW51VGl0bGUgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgdGhpcy5tZW51VGl0bGUudGV4dENvbnRlbnQgPSAnTWVudSc7XG5cbiAgICB0aGlzLm1lbnVMaXN0ID0gdGhpcy5jcmVhdGVFbGVtZW50KCd1bCcsICdtZW51LWxpc3QnKTtcblxuICAgIHRoaXMubWVudUFsbCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICB0aGlzLm1lbnVBbGwudGV4dENvbnRlbnQgPSAnTWVudSc7XG4gICAgdGhpcy5tZW51VG9kYXkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgdGhpcy5tZW51VG9kYXkudGV4dENvbnRlbnQgPSAnVG9kYXknO1xuICAgIHRoaXMubWVudVVwY29taW5nID0gdGhpcy5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIHRoaXMubWVudVVwY29taW5nLnRleHRDb250ZW50ID0gJ1VwY29taW5nJztcbiAgICB0aGlzLm1lbnVJbXBvcnRhbnQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgdGhpcy5tZW51SW1wb3J0YW50LnRleHRDb250ZW50ID0gJ0ltcG9ydGFudCc7XG5cbiAgICB0aGlzLnByb2plY3RUaXRsZSA9IHRoaXMuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICB0aGlzLnByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9ICdQcm9qZWN0cyc7XG5cbiAgICB0aGlzLnByb2plY3RMaXN0ID0gdGhpcy5jcmVhdGVFbGVtZW50KCd1bCcsICdwcm9qZWN0LWxpc3QnKTtcblxuICAgIHRoaXMuY3JlYXRlUHJvamVjdEZvcm0gPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nLCAnY3JlYXQtcHJvamVjdC1mb3JtJyk7XG4gICAgdGhpcy5jcmVhdGVQcm9qZWN0Rm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgdGhpcy5pbnB1dFByb2plY3RUaXRsZSA9IHRoaXMuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0aGlzLmlucHV0UHJvamVjdFRpdGxlLnR5cGUgPSAndGV4dCc7XG5cbiAgICB0aGlzLmNhbmNlbEJ0biA9IHRoaXMuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgJ2NhbmNlbC1wcm9qZWN0Jyk7XG4gICAgdGhpcy5jYW5jZWxCdG4udGV4dENvbnRlbnQgPSAnQ2FuY2VsJztcblxuICAgIHRoaXMuc2F2ZUJ0biA9IHRoaXMuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgJ3NhdmUtcHJvamVjdCcpO1xuICAgIHRoaXMuc2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdTYXZlJztcblxuICAgIHRoaXMuYWRkUHJvamVjdEJ0biA9IHRoaXMuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdGhpcy5hZGRQcm9qZWN0QnRuLnRleHRDb250ZW50ID0gJ0FkZCBQcm9qZWN0JztcblxuICAgIHRoaXMubWVudUxpc3QuYXBwZW5kKHRoaXMubWVudUFsbCwgdGhpcy5tZW51VG9kYXksIHRoaXMubWVudVVwY29taW5nLCB0aGlzLm1lbnVJbXBvcnRhbnQpO1xuXG4gICAgdGhpcy5jcmVhdGVQcm9qZWN0Rm9ybS5hcHBlbmQodGhpcy5pbnB1dFByb2plY3RUaXRsZSwgdGhpcy5jYW5jZWxCdG4sIHRoaXMuc2F2ZUJ0bik7XG5cbiAgICB0aGlzLm5hdi5hcHBlbmQodGhpcy5hcHBUaXRsZSwgdGhpcy5tZW51VGl0bGUsIHRoaXMubWVudUxpc3QsIHRoaXMucHJvamVjdFRpdGxlLCB0aGlzLnByb2plY3RMaXN0LCB0aGlzLmNyZWF0ZVByb2plY3RGb3JtLCB0aGlzLmFkZFByb2plY3RCdG4pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5uYXYsIHRoaXMuaGVhZGVyLCB0aGlzLmNvbnRlbnQpO1xuICB9XG5cbiAgY3JlYXRlRWxlbWVudCh0YWcsIGNsYXNzTmFtZSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBnZXRFbGVtZW50KHNlbGVjdG9yKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBnZXQgX3Byb2plY3RUaXRsZSgpIHtcbiAgIHJldHVybiB0aGlzLmlucHV0UHJvamVjdFRpdGxlLnZhbHVlOyAgXG4gIH1cblxuICBfcmVzZXRJbnB1dCgpIHtcbiAgIHJldHVybiB0aGlzLmlucHV0UHJvamVjdFRpdGxlLnZhbHVlID0gJyc7ICBcbiAgfVxuXG4gIGRpc3BsYXlQcm9qZWN0cyhwcm9qZWN0cykge1xuICAgIHdoaWxlICh0aGlzLnByb2plY3RMaXN0LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRoaXMucHJvamVjdExpc3QucmVtb3ZlQ2hpbGQodGhpcy5wcm9qZWN0TGlzdC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAocHJvamVjdHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBwcm9qZWN0cy5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gdGhpcy5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgcC50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG5cbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5jcmVhdGVFbGVtZW50KCdidXR0b24nLCAnZGVsZXRlLXByb2plY3QnKTtcbiAgICAgICAgYnRuLnRleHRDb250ZW50ID0gJ1gnO1xuXG4gICAgICAgIGxpLmFwcGVuZChwLCBidG4pO1xuXG4gICAgICAgIHRoaXMucHJvamVjdExpc3QuYXBwZW5kKGxpKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYWRkUHJvamVjdCgpIHtcbiAgICBcbiAgfVxuXG4gIF9zaG93Rm9ybSgpIHtcbiAgICB0aGlzLmNyZWF0ZVByb2plY3RGb3JtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIH1cblxuICBfaGlkZUZvcm0oKSB7XG4gICAgdGhpcy5jcmVhdGVQcm9qZWN0Rm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgYmluZEFkZFByb2plY3QoKSB7XG4gICAgdGhpcy5hZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fc2hvd0Zvcm0oKTtcbiAgICB9KVxuICB9XG5cbiAgYmluZENhbmNlbFByb2plY3QoKSB7XG4gICAgdGhpcy5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB0aGlzLl9oaWRlRm9ybSgpO1xuICAgIH0pXG4gIH1cblxuICBiaW5kU2F2ZVByb2plY3QoaGFuZGxlcikge1xuICAgIHRoaXMuc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLl9wcm9qZWN0VGl0bGUpIHtcbiAgICAgICAgaGFuZGxlcih0aGlzLl9wcm9qZWN0VGl0bGUpO1xuICAgICAgICB0aGlzLl9yZXNldElucHV0KCk7XG4gICAgICAgIHRoaXMuX2hpZGVGb3JtKCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsIm1vZGVsIiwidmlldyIsInRoaXMiLCJiaW5kQWRkUHJvamVjdCIsImJpbmRDYW5jZWxQcm9qZWN0IiwiYmluZFNhdmVQcm9qZWN0IiwiaGFuZGxlQWRkUHJvamVjdCIsImJpbmRQcm9qZWN0TGlzdENoYW5nZWQiLCJvblByb2plY3RMaXN0Q2hhbmdlZCIsInByb2plY3RzIiwiZGlzcGxheVByb2plY3RzIiwicHJvamVjdFRpdGxlIiwiYWRkUHJvamVjdCIsImhhbmRsZURlbGV0ZVByb2plY3QiLCJpZCIsImRlbGV0ZVByb2plY3QiLCJ0b2RvcyIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJmaWx0ZXIiLCJwcm9qZWN0IiwiY2FsbGJhY2siLCJuYXYiLCJjcmVhdGVFbGVtZW50IiwiaGVhZGVyIiwiY29udGVudCIsImFwcFRpdGxlIiwidGV4dENvbnRlbnQiLCJtZW51VGl0bGUiLCJtZW51TGlzdCIsIm1lbnVBbGwiLCJtZW51VG9kYXkiLCJtZW51VXBjb21pbmciLCJtZW51SW1wb3J0YW50IiwicHJvamVjdExpc3QiLCJjcmVhdGVQcm9qZWN0Rm9ybSIsInN0eWxlIiwiZGlzcGxheSIsImlucHV0UHJvamVjdFRpdGxlIiwidHlwZSIsImNhbmNlbEJ0biIsInNhdmVCdG4iLCJhZGRQcm9qZWN0QnRuIiwiYXBwZW5kIiwiZG9jdW1lbnQiLCJib2R5IiwidGFnIiwiY2xhc3NOYW1lIiwiZWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImdldEVsZW1lbnQiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJfcHJvamVjdFRpdGxlIiwidmFsdWUiLCJfcmVzZXRJbnB1dCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImZvckVhY2giLCJsaSIsInAiLCJ0aXRsZSIsImJ0biIsIl9zaG93Rm9ybSIsIl9oaWRlRm9ybSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVyIl0sInNvdXJjZVJvb3QiOiIifQ==